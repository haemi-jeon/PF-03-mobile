<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1.0, minimum-scale=1, user-scalable=0">
  <title>커뮤니티_작성_편집</title>
  <!-- StyleSheets -->
  <link type="text/css" href="../modules/bootstrap-5.3/css/bootstrap.min.css" rel="stylesheet">
  <link type="text/css" href="../assets/styles/common.css" rel="stylesheet">
</head>

<body>

  <div class="wrapper">
    <!-- Header -->
    <header class="header">
      <button type="button" class="btn btn_start">
        <i class="ico back">뒤로</i>
      </button>
      <h1 class="header_title">
        <p class="ellipsis">게시글 작성</p>
      </h1>
      <button type="button" class="btn btn_end">
        <span>등록</span>
      </button>
    </header>
    <!-- Container -->
    <div class="container">
      <div class="content content--editor">
        <div class="form-area">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="제목을 입력해주세요." value="오늘 하루 일기" />
            <span class="letter">0/50</span>
          </div>
          <div class="form-group form-group--textarea">
            <textarea type="text" class="form-control"
              placeholder="내용을 입력해주세요.">내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. @@@@@@@내용이 들어가는 영역입니다. 내용이 들어가는 영역입니다. </textarea>
            <span class="letter">0/100</span>
          </div>
        </div>
        <div class="attachment--x-scroll">
          <ul>
            <li>
              <img src="../assets/images/dummy-community.jpg" class="preview_img" />
              <button type="button" class="btn">
                <i class="ico delete"></i>
              </button>
            </li>
            <li>
              <img src="../assets/images/dummy-profile.jpg" class="preview_img" />
              <button type="button" class="btn">
                <i class="ico delete"></i>
              </button>
            </li>
            <li>
              <img src="../assets/images/dummy-goal.png" class="preview_img" />
              <button type="button" class="btn">
                <i class="ico delete"></i>
              </button>
            </li>
            <li>
              <img src="../assets/images/dummy-goal.png" class="preview_img" />
              <button type="button" class="btn">
                <i class="ico delete"></i>
              </button>
            </li>
          </ul>
        </div>
        <div class="help-area">
          ※ 비방, 욕설이나 커뮤니티 정책에 어긋나는 내용은<br />
          통보 없이 삭제되거나 이용에 제재가 가해질 수 있습니다.
        </div>
      </div>
    </div>
    <!-- layer -->
    <div class="layer">
      <div class="btn-area">
        <button type="button" class="btn">
          <i class="ico camera"></i>
          <strong>첨부하기</strong>
        </button>
        <small>첨부파일은 10개까지 가능합니다.</small>
      </div>
    </div>
  </div>


  <!-- JavaScript -->
  <script src="../modules/jquery_3.5.1.min.js"></script>
  <script src="../modules/bootstrap-5.3/js/bootstrap.bundle.min.js"></script>
  <script>
    // 변경 감지되면 실행할 함수 (.layer 높이 변경되면 .container 높이 재설정)
    const layer = document.querySelector('.layer');
    function callback() {
      let layerHeight = layer.offsetHeight;
      const container = document.querySelector('.container');
      container.style.height = "calc(100vh - 48px - " + layerHeight + "px)";
    }
    callback();

    // 변경 감지 인스턴스 생성
    const observer = new MutationObserver(callback);
    // 변경 감지 옵션
    const config = { attributes: true, childList: true, subtree: true };
    // 변경 감지 시작
    observer.observe(layer, config);
  </script>
</body>

</html>